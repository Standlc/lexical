version: '3.8'

services:
    # Backend server
    server:
        build:
            context: .
            dockerfile: ./server/Dockerfile
        ports:
            - '3000:3000'
        environment:
            - NODE_ENV=production
            # Add your environment variables here
            # - DATABASE_URL=${DATABASE_URL}
        volumes:
            # For development, you can mount the code
            # Comment these out for production
            - ./server/src:/app/server/src
            - ./packages:/app/packages
        restart: unless-stopped
        networks:
            - lexical-network

    # Add database if needed
    # postgres:
    #   image: postgres:16-alpine
    #   environment:
    #     POSTGRES_DB: lexical
    #     POSTGRES_USER: postgres
    #     POSTGRES_PASSWORD: postgres
    #   ports:
    #     - "5432:5432"
    #   volumes:
    #     - postgres_data:/var/lib/postgresql/data
    #   networks:
    #     - lexical-network

networks:
    lexical-network:
        driver: bridge
# volumes:
#   postgres_data:






